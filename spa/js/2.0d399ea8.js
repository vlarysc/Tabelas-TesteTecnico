(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2,3],{"15b1":function(e,t,a){"use strict";a("4cb9")},"374d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tabs",{ref:"tabs"}),a("div",{staticClass:"q-pa-sm"},[e.isEdit?e._e():a("q-btn",{staticClass:"q-ml-sm",attrs:{type:"submit",color:"yellow-9","text-color":"black",icon:"person_add",label:"Continuar"},on:{click:function(t){return t.preventDefault(),e.salvar()}}}),e.isEdit?a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"yellow-9","text-color":"black",type:"submit",icon:"system_update_alt",label:"Atualizar"},on:{click:function(t){return t.preventDefault(),e.updat(e.pessoa)}}}):e._e(),a("q-btn",{staticClass:"q-ml-sm",attrs:{to:"/",color:"yellow-9","text-color":"black",icon:"arrow_back",label:"Voltar"}})],1)],1)},o=[],n=(a("7db0"),a("d81d"),a("ded3")),l=a.n(n),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-y-md"},[a("q-tabs",{staticClass:"text-teal",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"cadastro",icon:"\napp_registration",label:"Dados"}}),a("q-tab",{attrs:{name:"endereco",icon:"place",label:"Endereço"}})],1),a("q-tab-panels",{attrs:{animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"cadastro"}},[a("Pessoa",{ref:"pessoa"})],1),a("q-tab-panel",{attrs:{name:"endereco"}},[a("EnderecosTable")],1)],1)],1)])},r=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-form",{ref:"myForm",on:{submit:e.salvar}},[a("div",{staticClass:"q-xl"},[a("div",{staticClass:"row q-pa-xs q-ma-sm "},[a("div",{staticClass:"col-sm-3"},[a("q-select",{staticClass:"q-pa-xs",attrs:{filled:"",options:e.options,label:"Tipo Pessoa","emit-value":"","map-options":""},model:{value:e.tipoPessoa,callback:function(t){e.tipoPessoa=t},expression:"tipoPessoa"}})],1),a("div",{staticClass:"col-sm-3"},[a("q-input",{staticClass:"q-pa-xs",attrs:{mask:"PF"==e.tipoPessoa?"###.###.###-##":"##.###.###/####-##",filled:"","unmasked-value":"",type:"text",label:"PF"==e.tipoPessoa?"CPF":"CNPJ",rules:"PF"==e.tipoPessoa?e.ruleCpf:e.ruleCpnj},model:{value:e.documento1,callback:function(t){e.documento1=t},expression:"documento1"}})],1),a("div",{staticClass:"col-sm-3"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"text",label:"PF"==e.tipoPessoa?"RG":"Inscrição Estadual",rules:[function(e){return e&&e.length>0||"Campo Obrigatório"}]},model:{value:e.documento2,callback:function(t){e.documento2=t},expression:"documento2"}})],1),a("div",{staticClass:"col-sm-3"},["PJ"==e.tipoPessoa?a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"text",label:"Inscrição Municipal",rules:[function(e){return e&&e.length>0||"Campo Obrigatório"}]},model:{value:e.documento3,callback:function(t){e.documento3=t},expression:"documento3"}}):e._e()],1)]),a("div",{staticClass:"row q-pa-xs q-ma-sm"},[a("div",{staticClass:"col-8"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"text",label:"PF"==e.tipoPessoa?"Nome":"Razão Social",rules:[function(e){return e&&e.length>0||"Campo Obrigatório"}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("div",{staticClass:"col-4"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"text",mask:"##/##/####",label:"PF"==e.tipoPessoa?"Data de Nascimento":"Data de Fundação",rules:[function(e){return e&&e.length>0||"Campo Obrigatório"}]},model:{value:e.nascimento,callback:function(t){e.nascimento=t},expression:"nascimento"}})],1)]),a("div",{staticClass:"row q-pa-xs q-ma-sm"},[a("div",{staticClass:"col-6 q-pa-xs"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"text",label:"PF"==e.tipoPessoa?"Apelido":"Nome Fantasia",rules:[function(e){return e&&e.length>0||"Campo Obrigatório"}]},model:{value:e.nickName,callback:function(t){e.nickName=t},expression:"nickName"}})],1),a("div",{staticClass:"col-6 q-pa-xs"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",rules:[function(e){return!!e||"Email is missing"},e.isValidEmail],type:"email",label:"E-mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)]),a("div",{staticClass:"row q-pa-xs q-ma-sm"},[a("div",{staticClass:"col-4"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",mask:"(##) # ####-####",type:"tel",label:"Telefone",rules:[function(e){return e&&e.length>0||"Campo Obrigatório"}]},model:{value:e.telefone1,callback:function(t){e.telefone1=t},expression:"telefone1"}})],1),a("div",{staticClass:"col-4"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",mask:"(##) # ####-####",type:"tel",label:"Telefone (Opcional)"},model:{value:e.telefone2,callback:function(t){e.telefone2=t},expression:"telefone2"}})],1),a("div",{staticClass:"col-4"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",mask:"(##) # ####-####",type:"tel",label:"Telefone (Opcional)"},model:{value:e.telefone3,callback:function(t){e.telefone3=t},expression:"telefone3"}})],1)])])])},u=[],d=a("bf48"),p=a("cc52"),m=a("5935"),f={name:"Cadastro",computed:l()(l()({},Object(m["b"])("pessoas",["pessoa.name","pessoa.nickName","pessoa.documento1","pessoa.documento2","pessoa.documento3","pessoa.telefone1","pessoa.telefone2","pessoa.telefone3","pessoa.tipoPessoa","pessoa.nascimento","pessoa.email"])),{},{indexend:function(){return 0},pessoa:{get:function(){return this.$store.state.pessoas.pessoa}}}),data:function(){return{idEnd:0,isValidEmail:function(e){var t=/^(?=[a-zA-Z0-9@.%+-]{6,254}$)[a-zA-Z0-9.%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"},ruleCpnj:[function(e){return e.length>0||e.length<18||"Campo Obrigatório"},function(e){return p["validateBr"].cnpj(e)||"CNPJ Inválido!"}],ruleCpf:[function(e){return e.length>0||e.length<14||"Campo Obrigatório"},function(e){return p["validateBr"].cpf(e)||"CPF Inválido!"}],model:null,reg:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/,options:[{label:"Pessoa Física",value:"PF"},{label:"Pessoa Jurídica",value:"PJ"}],creating:!1,isEdit:!1}},mounted:function(){console.log(this.pessoa)},methods:l()(l()({},Object(d["a"])("pessoas",["setPessoa"])),{},{createPessoa:function(){this.creating=!0},validat:function(){""==this.email?this.errorEmail="Por favor insira o E-mail":this.reg.test(this.email)||(this.errorEmail="Por favor use um E-mail correto")},updatePessoa:function(e){this.creating=!1,this.pessoa=e,this.isEdit=!0},updat:function(e){var t=JSON.parse(localStorage.getItem("datasApp")),a=t.map((function(t){return t.documento1==e.documento1?e:t}));this.isEdit=!1,localStorage.setItem("datasApp",JSON.stringify(a)),this.pessoa=this.novaPessoa(),this.$router.go(-1)},voltar:function(){this.$router.go(-1)},salvar:function(){var e=this;console.log("refs",this.$refs),this.$refs.myForm.validate().then((function(t){if(t){var a=localStorage.getItem("datasApp");a=a?JSON.parse(a):[],a.push(e.pessoa),e.pessoas=a,localStorage.setItem("datasApp",JSON.stringify(a)),e.$router.go(-1)}}))}})},b=f,v=a("2877"),g=a("0378"),h=a("ddd8"),q=a("27f9"),C=a("eebe"),x=a.n(C),P=Object(v["a"])(b,c,u,!1,null,"7cea43a2",null),k=P.exports;x()(P,"components",{QForm:g["a"],QSelect:h["a"],QInput:q["a"]});var y=a("65fe"),E={name:"Tabs",components:{EnderecosTable:y["default"],Pessoa:k},data:function(){return{tab:"cadastro"}}},S=E,O=a("429b"),w=a("7460"),$=a("adad"),A=a("823b"),N=Object(v["a"])(S,i,r,!1,null,null,null),F=N.exports;x()(N,"components",{QTabs:O["a"],QTab:w["a"],QTabPanels:$["a"],QTabPanel:A["a"]});var T={components:{Tabs:F},computed:{pessoa:{get:function(){return this.$store.state.pessoas.pessoa}}},methods:l()(l()({},Object(d["a"])("pessoas",["setPessoa"])),{},{novaPessoa:function(){return{tipoPessoa:"",name:"",nickName:"",email:"",documento1:"",documento2:"",documento3:"",telefone1:"",telefone2:"",telefone3:"",nascimento:"",enderecos:[]}},updat:function(e){var t=JSON.parse(localStorage.getItem("datasApp")),a=t.map((function(t){return t.documento1==e.documento1?e:t}));this.isEdit=!1,localStorage.setItem("datasApp",JSON.stringify(a)),this.pessoa=this.novaPessoa(),this.$router.go(-1)},voltar:function(){this.$router.go(-1)},salvar:function(){var e=this;this.pessoa.enderecos.length>0?(this.$refs.tabs.tab="cadastro",this.$refs.tabs.$refs.pessoa.$refs.myForm.validate().then((function(t){if(t){var a=localStorage.getItem("datasApp");a=a?JSON.parse(a):[],a.push(e.pessoa),e.pessoas=a,localStorage.setItem("datasApp",JSON.stringify(a)),e.$router.go(-1)}else e.$q.notify("Por favor informe obrigatórios da Pessoa")}))):(this.$refs.tabs.tab="endereco",this.$q.notify("Por favor informe pelo menos um endereço"))}}),created:function(){var e=this,t=JSON.parse(localStorage.getItem("datasApp")),a=t?t.find((function(t){return t.documento1==e.$route.params.id})):null;if(a)this.setPessoa(a),this.isEdit=!0;else{this.creating=!0;var s=this.novaPessoa();s.documento1=this.$route.params.id,11==s.documento1.length?s.tipoPessoa="PF":s.tipoPessoa="PJ",this.setPessoa(s),this.isEdit=!1}}},I=T,J=a("9c40"),Q=Object(v["a"])(I,s,o,!1,null,null,null);t["default"]=Q.exports;x()(Q,"components",{QBtn:J["a"]})},"4cb9":function(e,t,a){},"65fe":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("q-table",{attrs:{dense:"",title:"Endereços",data:e.pessoa.enderecos,columns:e.columns,"row-key":"id"},scopedSlots:e._u([{key:"body-cell-option",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-btn",{attrs:{size:"sm",color:"yellow-9",icon:"create"},on:{click:function(a){return e.update(t.row)}}}),a("q-btn",{attrs:{size:"sm",color:"red","text-color":"white",icon:"delete_forever"},on:{click:function(a){return e.del(t.row)}}})],1)])]}}])}),a("div",{staticClass:"q-pa-md q-gutter-xl"},[a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-btn",{staticClass:"text-black",staticStyle:{"margin-right":"40px"},attrs:{label:"Adicionar",color:"yellow-9"},on:{click:function(t){return e.novoendereco()}}}),a("q-form",[a("q-dialog",{staticClass:"q-pa-none q-ma-none",attrs:{"rounded-borders":"",maximized:"",persistent:"","full-width":e.isMobile,"full-height":e.isMobile},model:{value:e.toolbar,callback:function(t){e.toolbar=t},expression:"toolbar"}},[a("q-card",{staticClass:"q-ma-md",staticStyle:{width:"750px",height:"380px","border-radius":"50px"},attrs:{"rounded-borders":""}},[a("q-toolbar",[a("q-avatar",[a("img",{attrs:{src:"https://cdn.quasar.dev/logo/svg/quasar-logo.svg"}})]),a("q-toolbar-title",[a("span",{staticClass:"text-weight-bold"},[e._v("Meu")]),e._v("\n                Plano.APP")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",[a("EnderecosForm",{attrs:{endereco:e.endereco},on:{fechar:e.salvarEndereco}})],1)],1)],1)],1)],1)])],1)},o=[],n=(a("4de4"),a("d3b7"),a("25f0"),a("ded3")),l=a.n(n),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-form",{staticClass:"q-gutter-md",on:{submit:function(t){return e.salvar(e.endereco)}}},[a("div",{staticClass:"q-xl"},[a("div",{staticClass:"row q-pa-xs q-sm "},[a("div",{staticClass:"col-xs-12 col-md-2"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",label:"CEP","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},on:{blur:e.consultar},model:{value:e.endereco.cep,callback:function(t){e.$set(e.endereco,"cep",t)},expression:"endereco.cep"}})],1),a("div",{staticClass:"col-xs-12 col-md-8"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",label:"Rua","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.endereco.logradouro,callback:function(t){e.$set(e.endereco,"logradouro",t)},expression:"endereco.logradouro"}})],1),a("div",{staticClass:"col-xs-12 col-md-2"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",label:"N°","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.endereco.numero,callback:function(t){e.$set(e.endereco,"numero",t)},expression:"endereco.numero"}})],1)]),a("div",{staticClass:"row q-pa-xs q-sm"},[a("div",{staticClass:"col-xs-12 col-md-5"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",label:"Bairro","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.endereco.bairro,callback:function(t){e.$set(e.endereco,"bairro",t)},expression:"endereco.bairro"}})],1),a("div",{staticClass:"col-md-5 col-xs-12 "},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",label:"Cidade","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.endereco.cidade,callback:function(t){e.$set(e.endereco,"cidade",t)},expression:"endereco.cidade"}})],1),a("div",{staticClass:"col-xs-12 col-md-2"},[a("q-select",{staticClass:"q-pa-xs q-ma-none",attrs:{filled:"",options:e.ufOptions,"option-value":"uf","option-label":"uf",label:"UF","emit-value":"","map-options":""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{size:"xs",name:"place"}})]},proxy:!0}]),model:{value:e.endereco.uf,callback:function(t){e.$set(e.endereco,"uf",t)},expression:"endereco.uf"}})],1)]),a("div",{staticClass:"row q-pa-xs q-sm"},[a("div",{staticClass:"col-xs-12"},[a("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",label:"Complemento"},model:{value:e.endereco.complemento,callback:function(t){e.$set(e.endereco,"complemento",t)},expression:"endereco.complemento"}})],1)])]),a("div",{staticClass:"q-pa-sm"},[a("q-btn",{staticClass:"add-row",attrs:{label:"Finalizar",color:"yellow-9","text-color":"black"},on:{click:function(t){return e.salvar()}}})],1)])},r=[],c=(a("96cf"),a("c973")),u=a.n(c),d=[{estado:"Acre",uf:"AC"},{estado:"Alagoas",uf:"AL"},{estado:"Amapá",uf:"AP"},{estado:"Amazonas",uf:"AM"},{estado:"Bahia",uf:"BA"},{estado:"Ceará",uf:"CE"},{estado:"Brasília",uf:"DF"},{estado:"Espírito Santo",uf:"ES"},{estado:"Goiás",uf:"GO"},{estado:"Maranhão",uf:"MA"},{estado:"Mato Grosso",uf:"MT"},{estado:"Mato Grosso do Sul",uf:"MS"},{estado:"Minas Gerais",uf:"MG"},{estado:"Pará",uf:"PA"},{estado:"Paraíba",uf:"PB"},{estado:"Paraná",uf:"PR"},{estado:"Pernambuco",uf:"PE"},{estado:"Piauí",uf:"PI"},{estado:"Rio de Janeiro",uf:"RJ"},{estado:"Rio Grande do Norte",uf:"RN"},{estado:"Rio Grande do Sul",uf:"RS"},{estado:"Rondônia",uf:"RO"},{estado:"Roraima",uf:"RR"},{estado:"Santa Catarina",uf:"SC"},{estado:"São Paulo",uf:"SP"},{estado:"Sergipe",uf:"SE"},{estado:"Tocantins",uf:"TO"}],p={name:"endereco",props:["endereco"],computed:{ufOptions:function(){return d}},data:function(){return{model:null}},methods:{salvar:function(){this.$emit("fechar",this.endereco)},consultar:function(){var e=this;return u()(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.endereco),t.next=3,e.$axios.get("http://viacep.com.br/ws/".concat(e.endereco.cep,"/json/")).then((function(e){return e})).catch((function(e){return e}));case 3:a=t.sent,200!=a.status||a.data.erro?e.$q.notify("Erro ao consultar o CEP"):(s=a.data,e.endereco.logradouro=s.logradouro,e.endereco.bairro=s.bairro,e.endereco.cidade=s.localidade,e.endereco.uf=s.uf),console.log(a);case 6:case"end":return t.stop()}}),t)})))()}}},m=p,f=a("2877"),b=a("0378"),v=a("27f9"),g=a("ddd8"),h=a("0016"),q=a("9c40"),C=a("eebe"),x=a.n(C),P=Object(f["a"])(m,i,r,!1,null,null,null),k=P.exports;x()(P,"components",{QForm:b["a"],QInput:v["a"],QSelect:g["a"],QIcon:h["a"],QBtn:q["a"]});var y=a("0967"),E=a("bf48"),S={name:"EnderecosTable",components:{EnderecosForm:k},data:function(){return{endereco:[],icon:!1,bar:!1,bar2:!1,toolbar:!1,columns:[{name:"CEP",required:!0,label:"CEP",align:"left",field:"cep",sortable:!0},{name:"Logradouro",align:"center",label:"Rua",field:"logradouro",sortable:!0},{name:"Bairro",label:"Bairro",field:"bairro",sortable:!0},{name:"Cidade",label:"Cidade ",field:"cidade"},{name:"Numero",label:"Número ",field:"numero"},{name:"UF",label:"UF ",field:"uf"},{name:"Complemento",label:"Complemento",field:"complemento",sortable:!0},{name:"option",align:"center",label:"Opções",sortable:!1}]}},methods:l()(l()({},Object(E["a"])("pessoas",["addEndereco","deleteEndereco"])),{},{salvarEndereco:function(e){this.addEndereco(e),this.toolbar=!1},del:function(e){var t=this;this.$swal({icon:"question",title:"Tem certeza que deseja EXCLUIR?",showCancelButton:!0,confirmButtonText:"Excluir",cancelButtonText:"Cancelar"}).then((function(a){a.isConfirmed&&t.deleteEndereco(e)}))},novoendereco:function(){this.endereco={id:Date.now().toString(),cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""},this.toolbar=!0},update:function(e){this.endereco=e,this.toolbar=!0},remove:function(e){var t=localStorage.getItem("datasApp");t&&(t=JSON.parse(t),t=t.filter((function(t){return t.id!=e})),this.enderecos=t,localStorage.setItem("datasApp",JSON.stringify(t)))},salvar:function(e){var t=localStorage.getItem("datasApp");e.id=(new Date).getTime(),t=t?JSON.parse(t):[],this.creating&&(this.pessoas=t),localStorage.setItem("datasApp",JSON.stringify(t)),this.pessoa=this.addEndereco()},createPessoa:function(){this.creating=!0}}),computed:l()(l()({},Object(E["b"])("pessoas",["pessoa"])),{},{isMobile:function(){return y["b"].is.mobile||!1}})},O=S,w=(a("15b1"),a("eaac")),$=a("db86"),A=a("24e8"),N=a("f09f"),F=a("65c6"),T=a("cb32"),I=a("6ac5"),J=a("a370"),Q=a("7f67"),_=Object(f["a"])(O,s,o,!1,null,null,null);t["default"]=_.exports;x()(_,"components",{QTable:w["a"],QTd:$["a"],QBtn:q["a"],QForm:b["a"],QDialog:A["a"],QCard:N["a"],QToolbar:F["a"],QAvatar:T["a"],QToolbarTitle:I["a"],QCardSection:J["a"]}),x()(_,"directives",{ClosePopup:Q["a"]})}}]);